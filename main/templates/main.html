{% extends 'base.html' %}
{% block content %}

<h1>Gollective — From goals to collectibles</h1>

<h5>NPM:</h5><p>{{ npm }}</p>
<h5>Name:</h5><p>{{ name }}</p>
<h5>Class:</h5><p>{{ class }}</p>

<h3>User: {{user}}</h3>
<p>
  <a href="{% url 'main:add_product' %}">
    <button>+ Add Product</button>
  </a>
</p>
<a href="{% url 'main:logout' %}">
  <button>Logout</button>
</a>

<h5>Sesi terakhir login: {{ last_login }}</h5>
<hr>
<a href="?filter=all">
    <button type="button">All Products</button>
</a>
<a href="?filter=my">
    <button type="button">My Products</button>
</a> 

{% if not products %}
  <p>Belum ada produk.</p>
{% else %}
  {% for p in products %}
    <div style="margin-bottom: 1rem;">
      <h3>
        {{ p.name }} — {{ p.club_name }} {{ p.season }}
        {% if p.is_featured %} <span>⭐ Featured</span> {% endif %}
      </h3>
      <p>Kategori: <b>{{ p.get_category_display }}</b> | Harga: {{ p.price }}</p>
      {% if p.thumbnail %}
        <img src="{{ p.thumbnail }}" alt="thumb" width="150" height="100"><br>
      {% endif %}
      <p>{{ p.description|truncatewords:25 }}...</p>
      <a href="{% url 'main:show_product' p.id %}">
        <button>Detail</button>
      </a>
    </div>
    <hr>
  {% endfor %}
{% endif %}

{% endblock content %}
